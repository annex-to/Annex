# Annex Configuration
# Copy this file to .env and fill in your values
#
# Configuration can also be provided via a JSON config file.
# See config.example.json for the full configuration structure.
# Priority: Environment variables > Config file > Defaults

# =============================================================================
# SERVER
# =============================================================================
PORT=3000
HOST=0.0.0.0

# =============================================================================
# DATABASE (Required)
# =============================================================================
# PostgreSQL connection string
DATABASE_URL=postgresql://annex:annex@localhost:5432/annex

# =============================================================================
# JOB QUEUE
# =============================================================================
# Maximum concurrent worker threads for background jobs
JOB_CONCURRENCY=2
# How often to poll for new jobs (milliseconds)
JOB_POLL_INTERVAL=5000

# =============================================================================
# TMDB API (Required for media discovery)
# =============================================================================
# Get your API key at: https://www.themoviedb.org/settings/api
TMDB_API_KEY=
# Rate limit (requests per 10 seconds)
TMDB_RATE_LIMIT=40

# =============================================================================
# OMDB API (Optional - for IMDB/Rotten Tomatoes/Metacritic ratings)
# =============================================================================
# Get your API key at: https://www.omdbapi.com/apikey.aspx
OMDB_API_KEY=

# =============================================================================
# TRAKT API (Optional - for Trakt ratings and stats)
# =============================================================================
# Get your client ID at: https://trakt.tv/oauth/applications
TRAKT_CLIENT_ID=

# =============================================================================
# QBITTORRENT
# =============================================================================
QBITTORRENT_URL=http://localhost:8080
QBITTORRENT_USERNAME=admin
QBITTORRENT_PASSWORD=adminadmin

# =============================================================================
# ENCODING
# =============================================================================
FFMPEG_PATH=ffmpeg
FFPROBE_PATH=ffprobe
ENCODING_TEMP_DIR=/tmp/annex
# Maximum concurrent encoding jobs (CPU intensive)
ENCODING_MAX_CONCURRENT=1

# =============================================================================
# DOWNLOADS
# =============================================================================
DOWNLOADS_DIR=./downloads
# Seed ratio limit (stop seeding after reaching this ratio)
SEED_RATIO_LIMIT=1.0
# Seed time limit in seconds (stop seeding after this time, 86400 = 24 hours)
SEED_TIME_LIMIT=86400

# =============================================================================
# LOGGING
# =============================================================================
# Log level: trace, debug, info, warn, error, fatal
LOG_LEVEL=info
# Pretty print logs (set to false for JSON logs in production)
LOG_PRETTY=true

# =============================================================================
# MISC
# =============================================================================
TZ=UTC
